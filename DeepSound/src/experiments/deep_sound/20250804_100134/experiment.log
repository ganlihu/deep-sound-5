2025-08-04 10:01:34 INFO     已设置随机种子: 24
2025-08-04 10:01:34 INFO     ===== 开始执行实验 =====
2025-08-04 10:01:34 INFO     实验名称: deep_sound
2025-08-04 10:01:34 INFO     窗口宽度: 0.3s, 重叠率: 0.5
2025-08-04 10:01:34 INFO     是否使用原始数据: True
2025-08-04 10:01:34 INFO     数据增强启用: False
2025-08-04 10:01:34 INFO     交叉验证折数: 5, 总训练验证片段数: 24
2025-08-04 10:01:34 INFO     参数网格搜索数量: 1
2025-08-04 10:01:34 INFO     无网格搜索参数，使用默认参数
2025-08-04 10:01:34 INFO     使用最优参数执行最终交叉验证...
2025-08-04 10:01:34 INFO     
===== 开始折 1 (序号: 1) =====
2025-08-04 10:01:34 INFO     折 1 包含的片段: [45, 3, 23, 2, 17]
2025-08-04 10:01:34 INFO     折 1 训练片段数: 18, 测试片段数: 5
2025-08-04 10:01:34 INFO     折 1 训练数据构建完成: 样本数=18
2025-08-04 10:01:38 ERROR    折 1 执行失败: Exception encountered when calling layer 'cnn_backbone' (type Sequential).

Input 0 of layer "conv1d" is incompatible with the layer: expected axis -1 of input shape to have value 1800, but received input with shape (None, 1800, 1)

Call arguments received by layer 'cnn_backbone' (type Sequential):
  • inputs=tf.Tensor(shape=(None, 1800, 1), dtype=float32)
  • training=None
  • mask=None
Traceback (most recent call last):
  File "/root/user/DeepSound/DeepSound/src/experiments/base.py", line 214, in execute_kfoldcv
    model = self.model_factory(parameters_combination)
  File "/root/user/DeepSound/DeepSound/src/experiments/deep_sound.py", line 67, in model_factory
    return DeepSound(
  File "/root/user/DeepSound/DeepSound/src/models/deep_sound.py", line 238, in __init__
    self.model = self._build_model()
  File "/root/user/DeepSound/DeepSound/src/models/deep_sound.py", line 276, in _build_model
    model = Sequential([
  File "/root/miniconda3/envs/deep-sound/lib/python3.10/site-packages/tensorflow/python/trackable/base.py", line 205, in _method_wrapper
    result = method(self, *args, **kwargs)
  File "/root/miniconda3/envs/deep-sound/lib/python3.10/site-packages/keras/utils/traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "/root/miniconda3/envs/deep-sound/lib/python3.10/site-packages/keras/engine/input_spec.py", line 280, in assert_input_compatibility
    raise ValueError(
ValueError: Exception encountered when calling layer 'cnn_backbone' (type Sequential).

Input 0 of layer "conv1d" is incompatible with the layer: expected axis -1 of input shape to have value 1800, but received input with shape (None, 1800, 1)

Call arguments received by layer 'cnn_backbone' (type Sequential):
  • inputs=tf.Tensor(shape=(None, 1800, 1), dtype=float32)
  • training=None
  • mask=None
2025-08-04 10:01:38 ERROR    实验执行失败: Exception encountered when calling layer 'cnn_backbone' (type Sequential).

Input 0 of layer "conv1d" is incompatible with the layer: expected axis -1 of input shape to have value 1800, but received input with shape (None, 1800, 1)

Call arguments received by layer 'cnn_backbone' (type Sequential):
  • inputs=tf.Tensor(shape=(None, 1800, 1), dtype=float32)
  • training=None
  • mask=None
Traceback (most recent call last):
  File "/root/user/DeepSound/DeepSound/src/experiments/base.py", line 146, in run
    self.execute_kfoldcv(
  File "/root/user/DeepSound/DeepSound/src/experiments/base.py", line 214, in execute_kfoldcv
    model = self.model_factory(parameters_combination)
  File "/root/user/DeepSound/DeepSound/src/experiments/deep_sound.py", line 67, in model_factory
    return DeepSound(
  File "/root/user/DeepSound/DeepSound/src/models/deep_sound.py", line 238, in __init__
    self.model = self._build_model()
  File "/root/user/DeepSound/DeepSound/src/models/deep_sound.py", line 276, in _build_model
    model = Sequential([
  File "/root/miniconda3/envs/deep-sound/lib/python3.10/site-packages/tensorflow/python/trackable/base.py", line 205, in _method_wrapper
    result = method(self, *args, **kwargs)
  File "/root/miniconda3/envs/deep-sound/lib/python3.10/site-packages/keras/utils/traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "/root/miniconda3/envs/deep-sound/lib/python3.10/site-packages/keras/engine/input_spec.py", line 280, in assert_input_compatibility
    raise ValueError(
ValueError: Exception encountered when calling layer 'cnn_backbone' (type Sequential).

Input 0 of layer "conv1d" is incompatible with the layer: expected axis -1 of input shape to have value 1800, but received input with shape (None, 1800, 1)

Call arguments received by layer 'cnn_backbone' (type Sequential):
  • inputs=tf.Tensor(shape=(None, 1800, 1), dtype=float32)
  • training=None
  • mask=None
2025-08-04 10:01:38 ERROR    实验运行失败: Exception encountered when calling layer 'cnn_backbone' (type Sequential).

Input 0 of layer "conv1d" is incompatible with the layer: expected axis -1 of input shape to have value 1800, but received input with shape (None, 1800, 1)

Call arguments received by layer 'cnn_backbone' (type Sequential):
  • inputs=tf.Tensor(shape=(None, 1800, 1), dtype=float32)
  • training=None
  • mask=None
Traceback (most recent call last):
  File "/root/user/DeepSound/DeepSound/src/experiments/deep_sound.py", line 144, in deep_sound
    experiment.run()  # 核心运行逻辑与原始一致
  File "/root/user/DeepSound/DeepSound/src/experiments/base.py", line 146, in run
    self.execute_kfoldcv(
  File "/root/user/DeepSound/DeepSound/src/experiments/base.py", line 214, in execute_kfoldcv
    model = self.model_factory(parameters_combination)
  File "/root/user/DeepSound/DeepSound/src/experiments/deep_sound.py", line 67, in model_factory
    return DeepSound(
  File "/root/user/DeepSound/DeepSound/src/models/deep_sound.py", line 238, in __init__
    self.model = self._build_model()
  File "/root/user/DeepSound/DeepSound/src/models/deep_sound.py", line 276, in _build_model
    model = Sequential([
  File "/root/miniconda3/envs/deep-sound/lib/python3.10/site-packages/tensorflow/python/trackable/base.py", line 205, in _method_wrapper
    result = method(self, *args, **kwargs)
  File "/root/miniconda3/envs/deep-sound/lib/python3.10/site-packages/keras/utils/traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "/root/miniconda3/envs/deep-sound/lib/python3.10/site-packages/keras/engine/input_spec.py", line 280, in assert_input_compatibility
    raise ValueError(
ValueError: Exception encountered when calling layer 'cnn_backbone' (type Sequential).

Input 0 of layer "conv1d" is incompatible with the layer: expected axis -1 of input shape to have value 1800, but received input with shape (None, 1800, 1)

Call arguments received by layer 'cnn_backbone' (type Sequential):
  • inputs=tf.Tensor(shape=(None, 1800, 1), dtype=float32)
  • training=None
  • mask=None
